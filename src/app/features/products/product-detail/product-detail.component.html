<div class="container" *ngIf="product$ | async as product">
  <div class="product-grid">
    <div class="product-images">
      <img [src]="selectedImage || product.images[0]" [alt]="product.title" class="main-image">
      <div class="thumbnail-grid">
        <img
          *ngFor="let image of product.images"
          [src]="image"
          [alt]="product.title"
          class="thumbnail"
          (click)="setMainImage(image)"
        >
      </div>
    </div>

    <div class="product-info">
      <h1>{{product.title}}</h1>
      <p class="price">${{product.price}}</p>
      <p class="description">{{product.description}}</p>

      <form [formGroup]="variantForm" class="variant-form">
        <div class="form-group">
          <label for="size">Size:</label>
          <select id="size" formControlName="size">
            <option value="small">Small</option>
            <option value="medium">Medium</option>
            <option value="large">Large</option>
          </select>
        </div>

        <div class="form-group">
          <label for="color">Color:</label>
          <select id="color" formControlName="color">
            <option value="black">Black</option>
            <option value="white">White</option>
            <option value="blue">Blue</option>
          </select>
        </div>

        <div class="form-group">
          <label for="quantity">Quantity:</label>
          <input
            type="number"
            id="quantity"
            formControlName="quantity"
            min="1"
          >
        </div>

        <button
          class="add-to-cart"
          (click)="addToCart(product)"
          [disabled]="!variantForm.valid"
        >
          Add to Cart
        </button>
      </form>
    </div>
  </div>
</div>
